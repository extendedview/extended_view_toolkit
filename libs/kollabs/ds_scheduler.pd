#N canvas 75 274 279 283 10;
#X text 32 263 (c)2013 Marian Weger;
#N canvas 0 22 454 379 elapsed_time 0;
#X obj 95 53 / 1000;
#X obj 140 107 / 60;
#X obj 140 159 int;
#X obj 180 107 mod 60;
#X obj 140 262 s /ds/\$1/timer/elapsed/min;
#X obj 180 236 s /ds/\$1/timer/elapsed/s;
#X obj 95 31 r /ds/\$1/timer/elapsed/raw/ms;
#X obj 236 169 * 100;
#X obj 236 191 int;
#X obj 236 211 s /ds/\$1/timer/elapsed/cs;
#X obj 236 129 + 1e-05;
#X text 287 130 for calc errors;
#X obj 236 107 wrap;
#X obj 95 75 t f f f f;
#X obj 95 129 int;
#X obj 95 107 / 3600;
#X obj 95 286 s /ds/\$1/timer/elapsed/h;
#X obj 140 129 mod 60;
#X connect 0 0 13 0;
#X connect 1 0 17 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 6 0 0 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 7 0;
#X connect 12 0 10 0;
#X connect 13 0 15 0;
#X connect 13 1 1 0;
#X connect 13 2 3 0;
#X connect 13 3 12 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 17 0 2 0;
#X restore 53 150 pd elapsed_time;
#N canvas 0 22 511 586 remaining_time 0;
#X obj 110 84 / 1000;
#X obj 160 148 / 60;
#X obj 160 200 int;
#X obj 200 148 mod 60;
#X obj 256 148 wrap;
#X obj 200 297 s /ds/\$1/timer/remaining/s;
#X obj 160 323 s /ds/\$1/timer/remaining/min;
#X obj 110 32 r /ds/\$1/timer/remaining/raw/ms;
#X obj 256 200 * 100;
#X obj 256 242 int;
#X obj 256 272 s /ds/\$1/timer/remaining/cs;
#X obj 110 54 + 9;
#X obj 256 172 + 1e-05;
#X text 307 173 for calc errors;
#X text 137 55 rounding upwards;
#X obj 156 479 s /ds/\$1/timer/remaining/raw/ms;
#X obj 156 455 * 1000;
#X text 164 400 init remaining time with duration;
#X obj 156 429 r /ds/\$1/scene/current/duration;
#X obj 110 116 t f f f f;
#X obj 110 170 int;
#X obj 110 148 / 3600;
#X obj 110 343 s /ds/\$1/timer/remaining/h;
#X obj 160 170 mod 60;
#X connect 0 0 19 0;
#X connect 1 0 23 0;
#X connect 2 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 12 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 0 0;
#X connect 12 0 8 0;
#X connect 16 0 15 0;
#X connect 18 0 16 0;
#X connect 19 0 21 0;
#X connect 19 1 1 0;
#X connect 19 2 3 0;
#X connect 19 3 4 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 23 0 2 0;
#X restore 53 170 pd remaining_time;
#N canvas 0 22 450 300 elapsed-to-remaining-time 0;
#X obj 105 84 * -1;
#X obj 105 156 + 0;
#X obj 105 62 r /ds/\$1/timer/elapsed/raw/ms;
#X obj 105 228 s /ds/\$1/timer/remaining/raw/ms;
#X obj 105 178 moses 0;
#X msg 105 200 0;
#X obj 120 109 r /ds/\$1/scene/current/duration;
#X obj 120 131 * 1000;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 1 1;
#X restore 53 130 pd elapsed-to-remaining-time;
#N canvas 379 22 793 671 counter_logic 0;
#X obj 242 68 r /ds/\$1/play;
#X obj 463 68 r /ds/\$1/pause;
#X msg 261 124 1;
#X obj 261 304 metro 1;
#X msg 15 497 0;
#X obj 261 466 f;
#X obj 366 466 + 1;
#X obj 463 234 s /ds/\$1/transition/stop;
#X obj 545 625 >=;
#X obj 545 647 sel 1;
#X obj 579 510 sel 0;
#X obj 545 716 s /ds/\$1/scene/current/next;
#X obj 15 287 s /ds/\$1/transition/resume;
#X obj 15 264 spigot 0;
#X obj 463 90 t b b;
#X msg 490 124 0;
#X obj 579 545 t b b;
#X obj 545 669 t b b;
#X obj 261 716 s /ds/\$1/timer/elapsed/raw/ms;
#X obj 533 545 t f f;
#X msg 606 568 0;
#X obj 15 323 r /ds/\$1/recall;
#X obj 579 430 r /ds/\$1/scene/current/duration;
#X obj 579 452 * 1000;
#X obj 332 68 r /ds/\$1/resolution;
#X obj 261 548 * 1;
#X obj 366 428 *;
#X msg 366 382 1 \$1;
#X obj 366 404 /;
#X obj 332 90 t b f f f;
#X obj 463 259 r /ds/\$1/timebase;
#X obj 490 430 realtime;
#X obj 490 510 +;
#X obj 490 545 t f f;
#X obj 508 386 t b b;
#X obj 261 333 kdemux2;
#X obj 242 90 t b b b;
#X obj 463 281 t f b;
#X obj 572 692 s \$0-counter-reset;
#X obj 579 598 s \$0-counter-reset;
#X obj 15 475 r \$0-counter-reset;
#X obj 15 445 s \$0-counter-reset;
#X obj 261 266 f;
#X obj 490 598 spigot;
#X obj 60 68 r /ds/\$1/transition/busy;
#X obj 463 199 spigot 0;
#X obj 508 173 r /ds/\$1/transition/busy;
#X obj 25 343 r /ds/\$1/scene/current/prev;
#X obj 35 363 r /ds/\$1/scene/current/next;
#X obj 15 423 b;
#X obj 45 383 r /ds/\$1/scene/current;
#X connect 0 0 36 0;
#X connect 1 0 14 0;
#X connect 2 0 42 0;
#X connect 3 0 35 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 25 0;
#X connect 5 0 26 1;
#X connect 5 0 32 1;
#X connect 6 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 16 0;
#X connect 10 1 19 0;
#X connect 13 0 12 0;
#X connect 14 0 45 0;
#X connect 14 1 15 0;
#X connect 15 0 42 0;
#X connect 16 0 39 0;
#X connect 16 1 20 0;
#X connect 17 0 11 0;
#X connect 17 1 38 0;
#X connect 19 0 43 1;
#X connect 19 1 8 1;
#X connect 20 0 43 1;
#X connect 21 0 49 0;
#X connect 22 0 23 0;
#X connect 23 0 10 0;
#X connect 24 0 29 0;
#X connect 25 0 18 0;
#X connect 25 0 43 0;
#X connect 26 0 5 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 29 0 42 0;
#X connect 29 1 3 1;
#X connect 29 2 27 0;
#X connect 29 3 25 1;
#X connect 30 0 37 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 18 0;
#X connect 33 0 5 1;
#X connect 33 0 43 0;
#X connect 33 1 32 1;
#X connect 34 0 31 0;
#X connect 34 1 31 1;
#X connect 35 0 5 0;
#X connect 35 1 34 0;
#X connect 36 0 13 0;
#X connect 36 1 2 0;
#X connect 36 2 31 0;
#X connect 37 0 35 1;
#X connect 37 1 31 0;
#X connect 40 0 4 0;
#X connect 42 0 3 0;
#X connect 43 0 8 0;
#X connect 44 0 13 1;
#X connect 45 0 7 0;
#X connect 46 0 45 1;
#X connect 47 0 49 0;
#X connect 48 0 49 0;
#X connect 49 0 41 0;
#X connect 50 0 49 0;
#X coords 0 671 1 670 85 60 0;
#X restore 53 90 pd counter_logic;
#N canvas 98 22 573 616 forward_and_backward 0;
#X obj 69 27 r /ds/\$1/forward;
#X obj 301 66 r /ds/\$1/backward;
#X obj 301 230 s /ds/\$1/scene/current/prev;
#X obj 69 433 s /ds/\$1/scene/current/next;
#X obj 301 188 kdemux2;
#X obj 340 210 s /ds/\$1/recall;
#X obj 340 160 > 0;
#X obj 340 138 r /ds/\$1/timer/elapsed/raw/ms;
#X obj 69 49 b;
#X obj 301 94 b;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 8 0 3 0;
#X connect 9 0 4 0;
#X restore 53 110 pd forward_and_backward;
#X text 29 18 ds_scheduler <domain>;
#N canvas 0 22 450 300 register 0;
#X obj 71 75 ds_reg_global \$1 /resolution;
#X obj 71 95 ds_reg_global \$1 /timebase;
#X obj 71 115 ds_reg_global \$1 /recall/properties/state;
#X obj 71 135 ds_reg_global \$1 /store/properties/state;
#X restore 53 70 pd register;
#N canvas 95 238 576 344 init 0;
#X obj 145 26 loadbang;
#X msg 218 164 \; /ds/\$1/resolution 1 \; /ds/\$1/timebase 0 \; /ds/\$1/store/properties/state
1 \; /ds/\$1/recall/properties/state 1 \;;
#X obj 218 134 list prepend \$1;
#N canvas 80 22 619 609 FLAGS 0;
#X obj 70 109 list split 1;
#X obj 104 131 t l;
#X obj 70 156 list trim;
#X obj 70 53 inlet bang;
#X obj 70 85 list prepend \$15 \$14 \$13 \$12 \$11 \$10 \$9 \$8 \$7
\$6 \$5 \$4 \$3 \$2;
#X obj 334 266 b;
#X obj 334 470 s \$0-module-loader;
#X obj 334 342 spigot;
#X msg 367 320 1;
#X msg 387 348 0;
#X obj 334 288 list prepend \$1;
#X obj 334 386 list prepend osc \$1;
#X obj 334 364 t a b;
#X obj 70 179 route float osc;
#X obj 188 250 b;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 10 0;
#X connect 7 0 12 0;
#X connect 8 0 7 1;
#X connect 9 0 7 1;
#X connect 10 0 7 0;
#X connect 11 0 6 0;
#X connect 12 0 11 0;
#X connect 12 1 9 0;
#X connect 13 0 5 0;
#X connect 13 1 14 0;
#X connect 13 2 7 0;
#X connect 14 0 8 0;
#X restore 162 294 pd FLAGS;
#N canvas 619 22 611 540 MODULE_LOADER 0;
#X msg 467 493 clear;
#X obj 181 353 * 20;
#X obj 181 375 + 30;
#X obj 181 326 + 1;
#X msg 266 252 0;
#X obj 74 97 r \$0-module-loader;
#X obj 467 574 s pd-\$0-modules;
#X obj 93 252 t a a b;
#X obj 112 400 list prepend;
#X obj 112 462 t b l;
#X msg 112 529 loadbang;
#X obj 247 133 t b b b;
#X msg 163 186 0;
#X msg 114 186 1;
#X obj 163 219 s /ds/\$1/dsp;
#X obj 74 145 t b a b;
#X obj 247 101 inlet bang;
#X obj 112 433 list append 0 0 0 0 0 0 0 0 0;
#X msg 139 493 obj 30 \$1 ds_scheduler_\$2 \$3 \$4 \$5 \$6 \$7 \$8
\$9;
#X obj 132 300 f;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 8 1;
#X connect 3 0 1 0;
#X connect 3 0 19 1;
#X connect 4 0 19 1;
#X connect 5 0 15 0;
#X connect 7 1 8 0;
#X connect 7 2 19 0;
#X connect 8 0 17 0;
#X connect 9 0 10 0;
#X connect 9 1 18 0;
#X connect 10 0 6 0;
#X connect 11 0 13 0;
#X connect 11 1 4 0;
#X connect 11 1 0 0;
#X connect 11 2 12 0;
#X connect 12 0 14 0;
#X connect 13 0 14 0;
#X connect 15 0 13 0;
#X connect 15 1 7 0;
#X connect 15 2 12 0;
#X connect 16 0 11 0;
#X connect 17 0 9 0;
#X connect 18 0 6 0;
#X connect 19 0 3 0;
#X restore 179 270 pd MODULE_LOADER;
#X obj 145 98 t b b b;
#X obj 322 101 s /ds/\$1/print;
#X msg 322 79 ERROR: [ds_scheduler] multiply defined!;
#X obj 145 49 loadonce /ds/\$1/scheduler/init;
#X connect 0 0 8 0;
#X connect 2 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 4 0;
#X connect 5 2 2 0;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 8 1 7 0;
#X restore 53 50 pd init;
#N canvas 59 192 738 517 current_scene_name_&_duration 0;
#X obj 321 284 sel 1 0;
#X obj 340 337 symbol;
#X obj 253 203 moses;
#X obj 521 272 b;
#X obj 253 235 t f f;
#X msg 82 214 0;
#X msg 49 214 1;
#X obj 234 133 t b f b;
#X obj 286 262 ds_slot-status-request \$1;
#X obj 253 514 s;
#X obj 280 157 r /ds/\$1/scene/maximum;
#X obj 280 179 + 1;
#X msg 521 337 0;
#X msg 253 400 \$1 name \, \$1 duration;
#X obj 253 452 t a a;
#X obj 234 61 r /ds/\$1/scene/current;
#X obj 49 246 s /ds/\$1/scene/current/lock;
#X obj 521 358 s /ds/\$1/scene/current/duration;
#X obj 340 358 s /ds/\$1/scene/current/name;
#X obj 253 430 list prepend \$1;
#X msg 345 482 symbol /ds/\$1/scene/\$2/\$3/route;
#X msg 187 482 /ds/\$1/scene/current/\$3;
#X obj 49 189 del 1;
#X obj 253 358 spigot;
#X obj 246 86 r /ds/\$1/scheduler/gui/update;
#X obj 234 113 f;
#X connect 0 1 1 0;
#X connect 0 1 12 0;
#X connect 1 0 18 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 23 0;
#X connect 4 1 8 0;
#X connect 5 0 16 0;
#X connect 6 0 16 0;
#X connect 7 0 22 0;
#X connect 7 1 2 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 8 0 23 1;
#X connect 10 0 11 0;
#X connect 11 0 2 1;
#X connect 12 0 17 0;
#X connect 13 0 19 0;
#X connect 14 0 21 0;
#X connect 14 1 20 0;
#X connect 15 0 25 0;
#X connect 19 0 14 0;
#X connect 20 0 9 1;
#X connect 21 0 9 0;
#X connect 22 0 6 0;
#X connect 23 0 13 0;
#X connect 24 0 25 0;
#X connect 25 0 7 0;
#X restore 53 210 pd current_scene_name_&_duration;
#N canvas 452 305 545 318 playing 0;
#X obj 99 51 r /ds/\$1/play;
#X obj 99 73 b;
#X msg 99 95 1;
#X obj 133 101 b;
#X obj 133 79 r /ds/\$1/pause;
#X msg 133 123 0;
#X obj 99 157 s /ds/\$1/playing;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X restore 53 190 pd playing;
#N canvas 0 22 450 300 \$0-modules 0;
#X obj 30 50 ds_scheduler_osc domain oscdomain 0 0 0 0 0;
#X restore 53 230 pd \$0-modules;
